#TODO : Implement state pattern for input parsing